import e from"jszip";class t extends File{}const a={};export default r=>({addFilter:i})=>(i("ADD_ITEMS",async i=>{const s=(r=>((e=>{e.filter(e=>e._relativePath).forEach(e=>{const[,t]=e._relativePath.split("/");a[t]||(a[t]=[]),a[t].push(e)})})(r),Object.keys(a).map(async r=>{const i=new e;a[r].forEach(e=>{i.file(e._relativePath,e)}),delete a[r];const s=await i.generateAsync({type:"blob"});return new t([s],r+".zip")})))(i),l=r?r(s):await Promise.all(s);return i.filter(e=>!e._relativePath).concat(l||[])}),{options:{}});
//# sourceMappingURL=zipper.modern.js.map

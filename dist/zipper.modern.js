import t from"jszip";class e extends File{}export default a=>({addFilter:r})=>(r("ADD_ITEMS",async r=>{const n=(a=>{const r=(t=>{const e={};return t.filter(t=>t._relativePath).forEach(t=>{const[,a]=t._relativePath.split("/");e[a]||(e[a]=[]),e[a].push(t)}),e})(a);return Object.keys(r).map(async a=>{const n=new t;r[a].forEach(t=>{n.file(t._relativePath,t)}),delete r[a];const s=await n.generateAsync({type:"blob"});return new e([s],a+".zip")})})(r),s=a?a(n):await Promise.all(n);return r.filter(t=>!t._relativePath).concat(s||[])}),{options:{}});
//# sourceMappingURL=zipper.modern.js.map

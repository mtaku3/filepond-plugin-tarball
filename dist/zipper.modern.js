import t from"jszip";class e extends File{}const a=window.JSZip||t;export default t=>({addFilter:r})=>(r("FILTER_DROPPED_ITEMS",async r=>{const n=()=>(t=>{const r=(t=>{const e=new Map;return t.filter(t=>t._relativePath).forEach(t=>{const[,a]=t._relativePath.split("/");e.has(a)||e.set(a,[]),e.get(a).push(t)}),e})(t),n=Array.from(r.keys()).map(async t=>{const n=new a;r.get(t).forEach(t=>{n.file(t._relativePath,t)}),r.delete(t);const s=await n.generateAsync({type:"blob"});return new e([s],t+".zip")});return Promise.all(n)})(r),s=t?t(n()):await n();return r.filter(t=>!t._relativePath).concat(s||[])}),{options:{}});
//# sourceMappingURL=zipper.modern.js.map
